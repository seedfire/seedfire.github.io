{"pages":[{"title":"about","text":"","link":"/about/index.html"},{"title":"tag","text":"","link":"/tag/index.html"}],"posts":[{"title":"LinuxCentos7-Systemd-Service自定义编写Service应用服务配置说明整理","text":"Centos7-Systemd-Service自定义编写Service应用服务配置说明整理系统基本service服务配置目录（此目录勿动，一般情况下只放系统核心基础服务配置，否存放应用注册类服务配置）：/etc/systemd/system 自定义服务配置管理目录（存放自定义应用注册类服务和第三方服务类配置）：/usr/lib/systemd/system/ 自定义.service配置文件 (权限：754) 格式（以应用app-run.service为例, 执行文件作好超时处理！）：12345678910111213141516171819202122232425[Unit]Description=&quot;app-run@Author Jack Liu Process Daemon&quot; # 服务描述After=rc-local.service # 服务类别： # 例启动顺序(默认在rc-local.service之后调用执行) [Service]Type=forking # 优先使用forking方式: # (遵循传统Unix做法,设置PIDFile=选项 # 帮助systemd准确定位该服务的主进程)PIDFile=/var/run/app-run.pid # 设置应用进程的PID（缺省）Environment=&quot;GOPATH=/usr/local/go&quot; # 环境变量设置，可设置多个Environment=项 # 备注：Environment= 或 EnvironmentFile= # 引用文件, 两种方式皆可ExecStart=/data/auto_run.sh start # 调用启动可执行文件： # （Service配置全部使用绝对路径， # 可执行文件内命令用绝对的路径格式） ExecReload=/data/auto_run.sh reload # 重新加载（缺省）ExecStop=/data/auto_run.sh stop # 停止服务（缺省）DefaultTimeoutStartSec=30 # 服务启动允许的最大时长，超时时间（默认无单位:秒） # 单位：&quot;ms&quot;(毫秒), &quot;s&quot;(秒), &quot;min&quot;(分钟), # &quot;h&quot;(小时), &quot;d&quot;(天), &quot;w&quot;(周) PrivateTmp=True # 是否分配独立的临时空间（缺省） [Install]WantedBy=multi-user.target EnvironmentFile默认约定引用存放目录一般为：/usr/lib/systemd/system/app-run.service.d/environment.conf(格式：Key=Value) Service服务管理常用操作命令12345678在开机时启用一个服务：systemctl enable app-run.service 在开机时禁用一个服务：systemctl disable app-run.service启动一个服务：systemctl start app-run.service 关闭一个服务：systemctl stop app-run.service 重启一个服务：systemctl restart app-run.service 显示一个服务的状态：systemctl status app-run.service 查看服务是否开机启动：systemctl is-enabled app-run.service 查看已启动的服务列表：systemctl list-unit-files|grep enabled 注意：服务无法执行检查SElinux是否开启，自行关闭SElinux。","link":"/2020/02/29/Centos7-Systemd-Service/"},{"title":"OpenSSH 配置文件体系","text":"OpenSSH 配置文件体系OpenSSH 配置文件全局12345678910111213141516171819202122232425262728293031323334/etc/ssh/# 保存Diffie-Hellman组通过密钥交换构建安全的网络传输层/etc/ssh/moduli# 缺省的SSH客户端配置文件/etc/ssh/ssh_config# sshd守护进程的配置文件/etc/ssh/sshd _config# sshd守护进程的DSA私钥/etc/ssh/ssh_host_dsa_key# sshd守护进程的DSA公钥/etc/ssh/ssh_host_dsa_key.pub# sshd守护进程的SSH协议版本1的RAS私钥/etc/ssh/ssh_host_key# sshd守护进程的SSH协议版本1的RAS公钥/etc/ssh/ssh_host_key.pub# sshd守护进程的SSH协议版本2的RAS私钥/etc/ssh/ssh_host_rsa_key# sshd守护进程的SSH协议版本2的RAS公钥/etc/ssh/ssh_ho st_rsa_key.pub# sshd守护进程的PAM配置文件/etc/pam.d/sshd # sshd服务的配置文件/etc/sysconfig/sshd 用户12345678910111213141516171819202122232425~/.ssh/# 服务器用来验证SSH客户端的客户公钥~/.ssh/authorized_keys# 用户的DSA私钥~/.ssh/id_dsa # 用户的DSA公钥~/.ssh/id_dsa. pub# 用户的SSH协议版本2的RSA私钥~/.ssh/id_rsa # 用户的SSH协议版本2的RSA公钥~/.ssh/id_rsa.pub# 用户的SSH协议版本1的RSA私钥 ~/.ssh/identity# 用户的SSH协议版本的RSA公钥~/.ssh/identity.pub# 用户连接的SSH服务器公钥~/.ssh/known_hosts SSH Tunnel 安全隧道","link":"/2020/02/29/OpenSSH/"},{"title":"firewalld services 防火墙内嵌服务","text":"firewalld services 防火墙内嵌服务Configuration file path: /usr/lib/firewalld/servicesamanda-client.xmlamanda-k5-client.xmlbacula-client.xmlbacula.xmlbitcoin-rpc.xmlbitcoin-testnet-rpc.xmlbitcoin-testnet.xmlbitcoin.xmlceph-mon.xmlceph.xmlcfengine.xmlcondor-collector.xmlctdb.xmldhcpv6-client.xmldhcpv6.xmldhcp.xmldns.xmldocker-registry.xmldropbox-lansync.xmlelasticsearch.xmlfreeipa-ldaps.xmlfreeipa-ldap.xmlfreeipa-replication.xmlfreeipa-trust.xmlftp.xmlganglia-client.xmlganglia-master.xmlhigh-availability.xmlhttps.xmlhttp.xmlimaps.xmlimap.xmlipp-client.xmlipp.xmlipsec.xmliscsi-target.xmlkadmin.xmlkerberos.xmlkibana.xmlklogin.xmlkpasswd.xmlkshell.xmlldaps.xmlldap.xmllibvirt-tls.xmllibvirt.xmlmanagesieve.xmlmdns.xmlmosh.xmlmountd.xmlmssql.xmlms-wbt.xmlmysql.xmlnfs.xmlnrpe.xmlntp.xmlopenvpn.xmlovirt-imageio.xmlovirt-storageconsole.xmlovirt-vmconsole.xmlpmcd.xmlpmproxy.xmlpmwebapis.xmlpmwebapi.xmlpop3s.xmlpop3.xmlpostgresql.xmlprivoxy.xmlproxy-dhcp.xmlptp.xmlpulseaudio.xmlpuppetmaster.xmlquassel.xmlradius.xmlRH-Satellite-6.xmlrpc-bind.xmlrsh.xmlrsyncd.xmlsamba-client.xmlsamba.xmlsane.xmlsips.xmlsip.xmlsmtp-submission.xmlsmtps.xmlsmtp.xmlsnmptrap.xmlsnmp.xmlspideroak-lansync.xmlsquid.xmlssh.xmlsynergy.xmlsyslog-tls.xmlsyslog.xmltelnet.xmltftp-client.xmltftp.xmltinc.xmltor-socks.xmltransmission-client.xmlvdsm.xmlvnc-server.xmlwbem-https.xmlxmpp-bosh.xmlxmpp-client.xmlxmpp-local.xmlxmpp-server.xml ssh.xml:123456&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;service&gt; &lt;short&gt;SSH&lt;/short&gt; &lt;description&gt;Secure Shell (SSH) is a protocol for logging into and executing commands on remote machines. It provides secure encrypted communications. If you plan on accessing your machine remotely via SSH over a firewalled interface, enable this option. You need the openssh-server package installed for this option to be useful.&lt;/description&gt; &lt;port protocol=&quot;tcp&quot; port=&quot;22&quot;/&gt;&lt;/service&gt;","link":"/2020/02/29/firewalld-embed-services-list/"}],"tags":[{"name":"linux,centos7,systemd-service","slug":"linux-centos7-systemd-service","link":"/tags/linux-centos7-systemd-service/"},{"name":"OpenSSH,配置文件体系","slug":"OpenSSH-配置文件体系","link":"/tags/OpenSSH-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%93%E7%B3%BB/"},{"name":"firewalld,services,防火墙","slug":"firewalld-services-防火墙","link":"/tags/firewalld-services-%E9%98%B2%E7%81%AB%E5%A2%99/"}],"categories":[{"name":"Linux","slug":"Linux","link":"/categories/Linux/"}]}